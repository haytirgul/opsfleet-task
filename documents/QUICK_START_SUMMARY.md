# Quick Start: Document Summary Extraction

## What It Does

Automatically extracts titles and explanations from documents using:
1. **Deterministic extraction** (regex patterns) - fast and free
2. **LLM generation** (Gemini Flash) - fallback for any document

## Usage

### Run Ingestion (Automatic)

```bash
cd opsfleet-task
python scripts/ingest.py
```

All documents will automatically get `title` and `explanation` metadata.

### Example Output

```
Parsing documents...

Parsed 156 documents.
Summary Extraction Stats:
  Deterministic: 142/156 (91.0%)
  LLM Generated: 14/156 (9.0%)
```

## Metadata Added

Each document gets:

```python
{
    "source": "how-tos/autogen-integration.md",
    "category": "how-tos",
    "topic": "autogen-integration",
    "title": "How to integrate LangGraph with AutoGen",  # ‚Üê NEW
    "explanation": "This guide shows how to..."         # ‚Üê NEW
}
```

## Test It

```bash
python tests/test_summarizer.py
```

## How It Works

### Documents With Clear Structure ‚Üí Deterministic ‚úì

```markdown
# How to use the graph API

This guide demonstrates the basics of LangGraph's Graph API...
```

**Result**: Extracted via regex (free, instant)

### Documents Without Structure ‚Üí LLM ü§ñ

```markdown
# Installation

```bash
pip install langgraph
```
```

**Result**: Generated by Gemini Flash (cheap, ~1 second)

## Cost

- **Deterministic**: Free, instant
- **LLM**: ~$0.0001 per document (Gemini Flash)
- **Typical corpus**: 90% deterministic, 10% LLM

## Benefits for RAG

1. **Better semantic search**: Rich metadata improves relevance
2. **Document filtering**: Query by title/explanation
3. **Context for LLM**: Better prompts with summaries
4. **User experience**: Show titles in results

## Questions?

See full documentation: `documents/SUMMARY_EXTRACTION.md`

